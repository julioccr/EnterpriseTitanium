<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

      <h:head>
       
        <h:outputStylesheet library="css" name="pfcrud.css"/>
        <h:outputScript library="scripts" name="pfcrud.js"/>
    </h:head>
    <ui:composition template="/core/modules/schedule_events/views/includes/template.xhtml"> 
   
       <ui:define name="body">
        <ui:include src="/core/modules/schedule_events/views/menu/menutab.xhtml"/>
      
        
            <p:growl id="messages" showDetail="true" />  
            
            <h:form id="ScheduleViewCalendarForm">

           
                
               <p:schedule id="schedule" tooltip="true" value="#{scheduleView.eventModel}"    style="border-radius:  0px"  widgetVar="myschedule" timeZone="GMT+2" >
 
            <p:ajax event="dateSelect" listener="#{scheduleView.onDateSelect}" update="eventDetails" oncomplete="PF('eventDialog').show();" />
            <p:ajax event="eventSelect" listener="#{scheduleView.onEventSelect}" update="eventDetails" oncomplete="PF('eventDialog').show();" />
            <p:ajax event="eventMove" listener="#{scheduleView.onEventMove}" update="messages" />
            <p:ajax event="eventResize" listener="#{scheduleView.onEventResize}" update="messages" />
 
        </p:schedule>
               
               
               <p:dialog  widgetVar="eventDialog" header="Gestion de Eventos" showEffect="clip" height="24%" width="35.8%" hideEffect="clip">
     <h:panelGrid id="eventDetails"  >
         <f:facet name="header">
            <p:row>
                  
                <h:panelGrid columns="2" cellpadding="0" cellspacing="2">
                           <p:outputLabel  value="Codigo:" /> 
                           <p:outputLabel id="id" value="#{scheduleView.eventoSelect.idSchedule}" />
                  
                           <p:outputLabel for="title" value="Asunto:" />
                       <p:inputText id="title" value="#{scheduleView.event.title}"  required="true" size="70"  />
                </h:panelGrid>
               
                 
            </p:row>
         </f:facet>
            
            <p:row>  
                 <p:column>
              <h:panelGrid columns="2"  cellspacing="2" cellpadding="0">
                  <f:facet name="header">
                      <p:outputLabel value="&emsp;&emsp;&emsp; SELECCION DE FECHAS" />
                      
                  </f:facet>
                  <p:outputLabel for="from" value="Desde:&emsp;" />
                 <p:calendar id="from" value="#{scheduleView.event.startDate}" showOn="button" timeZone="GMT+2" navigator="true" pattern="dd/MM/yyyy HH:mm"/>
                 
                 <p:outputLabel for="to" value="Hasta:&emsp;" />
                 <p:calendar id="to" value="#{scheduleView.event.endDate}" showOn="button" timeZone="GMT+2" navigator="true" pattern="dd/MM/yyyy HH:mm"/>
              </h:panelGrid> 
                 </p:column>
            </p:row>
                
              
             <p:row >
                 
                 <p:column>
                     
                         <p:inputTextarea value="#{scheduleView.event.description}" rows="12" cols="85"  maxlength="3000" />
                  </p:column>
                 
             </p:row> 
            
                    
                <p:row >
                 
                 <p:column>
                       <h:panelGrid columns="4"  cellspacing="5" cellpadding="1">  
                     <p:outputLabel for="allDay" value="All Day:" />
                       <h:selectBooleanCheckbox id="allDay" value="#{scheduleView.event.allDay}" />
 
                 <p:commandButton type="reset" value="Reset" />
                 <p:commandButton id="addButton" value="Save" actionListener="#{scheduleView.addEvent}"  update=":ScheduleViewCalendarForm,:messages" icon="fa fa-save"   oncomplete="PF('myschedule').update();PF('eventDialog').hide();" />
                       </h:panelGrid>
                  </p:column>
                 
             </p:row> 
             
        </h:panelGrid>
    </p:dialog>    
      

         </h:form>
         </ui:define>
    </ui:composition>
    
    

</html>
